---
layout: post
title:  笔记：UE上手多类材质编辑（光粒，污渍金属，雪与石等）
categories: 虚幻开发
description: 虚幻开发
keywords: 虚幻开发
---



# 写在前面



这篇笔记写的时间很早了，那还是我刚摸虚幻不久的时候。这里把它搬上来，主要是记录一下当时学习的材质系统233，不做太多解释。



## 材质：

### 常用的材质节点汇总：

![img](https://uploader.shimo.im/f/LjfU5rIKvbIZQ5SO.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### 利用绝对世界位置划分实现渐变色：

![img](https://uploader.shimo.im/f/h2QYIN6SqBepIdZc.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### UV控制材质图案平移旋转：

 

![img](https://uploader.shimo.im/f/Zma2CaZXk43P9NzZ.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

### 利用物体大小插值控制颜色：

 

### ![img](https://uploader.shimo.im/f/Ujzpd4kjlQ8p6GIA.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### 利用次表面做一些半透光物体材质，如皮肤：

 

![img](https://uploader.shimo.im/f/ud7UwXzdRShBgInv.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### 利用buffoffset作UV产生凹凸感的纹理：

 

![img](https://uploader.shimo.im/f/ejwCfK1qeYPlaIYl.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### 利用屏幕位置（screenposition）作为UV产生类似于窗口的效果：

 

![img](https://uploader.shimo.im/f/o5NOr7q6b8T3rcqJ.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### 引入噪声和时序（取余）实现材质随时间溶解的效果：

 

![img](https://uploader.shimo.im/f/MoZyVmMIet8mZSIZ.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### 通过混合不同UV 的材质去除材质纹理的重复感：

 

![img](https://uploader.shimo.im/f/9RIMGRbQN5dmyivN.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

### 利用法向量内积角cos,实现 黑白的方向性光照:

 

![img](https://uploader.shimo.im/f/N5z7TnZOGtH1G3XF.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

 

 

 

 

## 粒子系统

 

#### 时序（生命周期）控制粒子颜色：

![img](https://uploader.shimo.im/f/Ef9eRvGS3vs0Freo.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

![img](https://uploader.shimo.im/f/HFNFN8NO8kk09Phe.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

#### 在粒子系统中直接编辑，定义颜色和透明度曲线：

![img](https://uploader.shimo.im/f/4ompoVg4foz3GIhV.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

![img](https://uploader.shimo.im/f/tZHQo7dep4HklC2n.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

 

### 通用金属材质自定义：

 

#### 为金属铝加上污渍和腐蚀：

 

![img](https://uploader.shimo.im/f/jPnEa3KfjVneXdEm.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

#### 封装材质函数，用UV展开图为特定部位给予不同材质：

 

![img](https://uploader.shimo.im/f/NsbtYXcNWnoi7D1O.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

（铜铝制壁炉）

![img](https://uploader.shimo.im/f/zcNzbyQzQ1JdZXzi.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

 

### 地形材质节点与多图层混合材质编辑：

（草地与火焰）

![img](https://uploader.shimo.im/f/OFkYkiVIt292Cp74.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

在世界场景的BSP画刷部分编辑

 

### 自定义材质函数封装实现能够控制积雪覆盖程度的岩石：

（做好雪和岩石材质，并封装成材质函数，对比雪线和岩石高度，公式插值计算两种材质的混合程度）

![img](https://uploader.shimo.im/f/suWsjt8HplQqu9QC.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

 

#### 最终效果：

![img](https://uploader.shimo.im/f/uxZpX9gPPGSy57lD.PNG!thumbnail?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2Nzg5NzAwNzYsImZpbGVHVUlEIjoiNDdrZ0o5T3dOV0ZaYjlxViIsImlhdCI6MTY3ODk2OTc3NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2NTIxMjA3N30.ogvJH_3k5EGm28TDRI48ryEDNXkEQWTQj5sA9Rq8eR0)

 

 